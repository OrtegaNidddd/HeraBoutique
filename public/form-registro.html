<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hera Boutique</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://kit.fontawesome.com/a1ddf57449.js" crossorigin="anonymous"></script>
    <script src="../js/conexion.js"></script>
</head>
<body>
<header>
    <nav id="navPrimario">
        <img src="../images/logos/H-sin-fondo.png" alt="">
        <h1>Hera Boutique</h1>
        <ul>
            <a href="../html/obtener-ayuda.html"><li>Ayuda</li></a>
            <div></div>
            <a href="../html/form-registro.html"><li>Registrate</li></a>
            <div></div>
            <a href="https://maps.app.goo.gl/MGWircg6NLpjwxgQ9" target="_blank"><li>Ubicacion</li></a>
        </ul>
    </nav>
    <nav id="navMenu">
        <img src="" alt="">
        <ul>
            <a href="../html/index.html" class="links-menu"><li>Inicio</li></a>
            <a href="" class="links-menu"><li>Novedades</li></a>
            <a href="" class="links-menu"><li>Ropa</li></a>
            <a href="" class="links-menu"><li>Maquillaje</li></a>
            <a href="" class="links-menu"><li>Accesorios</li></a>
            <a href="" class="links-menu"><span>Descuentos </span></a>
        </ul>
        <div>
            <div id="nav-menu-buscar">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="search" name="" placeholder="Buscar productos">
            </div>
            <a href=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#471023" d="M7 22q-.825 0-1.412-.587T5 20t.588-1.412T7 18t1.413.588T9 20t-.587 1.413T7 22m10 0q-.825 0-1.412-.587T15 20t.588-1.412T17 18t1.413.588T19 20t-.587 1.413T17 22M5.2 4h14.75q.575 0 .875.513t.025 1.037l-3.55 6.4q-.275.5-.737.775T15.55 13H8.1L7 15h11q.425 0 .713.288T19 16t-.288.713T18 17H7q-1.125 0-1.7-.987t-.05-1.963L6.6 11.6L3 4H2q-.425 0-.712-.288T1 3t.288-.712T2 2h1.625q.275 0 .525.15t.375.425z"/></svg></a>
        </div>
    </nav>
    <nav id="navAnuncio">
        <a href=""><img src="../images/gif/envios_y_devoluciones.gif" alt="envios_y_devoluciones"></a>
    </nav>
</header>
<main id="container-registro">
    <div id="subcontainer-registro">
        <h2>Sé el primero</h2>
        <p>Inscríbete para recibir emails de Hera y ser el primero en disfrutar de contenido motivador, noticias y promociones únicas.</p>
        <form action="" id="registroForm">
            <label for="">Nombres*</label>
            <input type="text" name="nombres" required placeholder="Escribe tus nombres">
            <label for="">Apellidos*</label>
            <input type="text" name="apellidos" required placeholder="Escribe tus apellidos">
            <label for="" >Correo electrónico*</label>
            <input type="email" name="email" id="" required placeholder="Escribe tu correo electrónico">
            <label for="">Teléfono</label>
            <input type="tel" name="telefono" id="" required placeholder="Escribe tu numero de teléfono">
            <label for="">Cédula</label>
            <input type="number" name="cedula" id="" placeholder="Escribe tu numero de cédula">
            <div>
                <div class="select-form">
                    <label for="" >Ciudad*</label>
                    <select name="ciudad" id="" required>
                        <option value="">Seleccione ciudad</option>
                        <option value="cucuta">Cúcuta</option>
                        <option value="barranquilla">Barranquilla</option>
                        <option value="bogota">Bogotá</option>
                        <option value="bucaramanga">Bucaramanga</option>
                        <option value="cali">Cali</option>
                        <option value="cartagena">Cartagena</option>
                        <option value="medellin">Medellín</option>
                        <option value="villavicencio">Villavicencio</option>
                    </select>
                </div>
                <div class="select-form">
                    <label for="">Género*</label>
                    <select name="genero" id="" required>
                        <option value="">Seleccione género</option>
                        <option value="femenino">Femenino</option>
                        <option value="masculino">Masculino</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>
            </div>
            <label for="">Cumpleaños*</label>
            <input type="date" name="cumpleanos" id="" required>
            <button class="primary-Button" type="submit">Enviar</button>
        </form>
    </div>
    <div id="respuesta"></div>
</main>
<footer>
    <div class="footer-container-1">
        <div class="footer-subcontainer-1">
            <h4 class="title-register-footer"><a href="">REGISTRATE PARA RECIBIR CORREOS</a></h4>
            <h4>EVENTOS</h4>
        </div>
        <div class="footer-subcontainer-1">
            <h4 class="title-subcontainer-footer">OBTENER AYUDA</h4>
            <ul>
                <li><a href="" class="links-footer">Servicio al cliente</a></li>
                <li><a href="" class="links-footer">Devoluciones</a></li>
                <li><a href="" class="links-footer">Preguntas Frecuentes</a></li>
                <li><a href="" class="links-footer">Términos y Condiciones</a></li>
            </ul>
        </div>
        <div class="footer-subcontainer-1">
            <h4 class="title-subcontainer-footer">ACERCA DE HERA</h4>
            <ul>
                <li><a href="" class="links-footer">¿Quienes Somos?</a></li>
                <li><a href="" class="links-footer">Nuestra Misión y Visión</a></li>
            </ul>
        </div>
        <div class="footer-subcontainer-2">
            <h3>NUESTRAS REDES:</h3>
            <div id="container-redes">
                <a href=""><i class="fa-brands fa-facebook-f"></i></a>
                <a href=""><i class="fa-brands fa-whatsapp"></i></a>
                <a href=""><i class="fa-brands fa-instagram"></i></a>
                <a href=""><i class="fa-brands fa-x-twitter"></i></a>
            </div>
        </div>
    </div>
    <div class="footer-container-2">
        <div id="footer-copyright">
            <span><i class="fa-solid fa-location-dot"></i>Cúcuta, Norte de Santander - COL</span>
            <span><i class="fa-regular fa-copyright"></i>Todos los derechos reservados.</span>
        </div>
        <div class="footer-terminos">
            <ul>
                <a href=""><li>Términos de Uso</li></a>
                <a href=""><li>Políticas de Devolución</li></a>
                <a href=""><li>Políticas de Privacidad</li></a>
                <a href=""><li>Términos de Venta</li></a>
            </ul>
            <img src="../images/logos/logo-sin-fondo.png" alt="">
        </div>
    </div>
</footer>
<script>
    document.getElementById('formularioRegistro').addEventListener('submit', async function(e) {
        e.preventDefault(); // Detener envío tradicional del formulario

        // Obtener elementos del formulario
        const nombre = document.getElementById('nombre').value;
        const email = document.getElementById('email').value;
        const edad = document.getElementById('edad').value;
        const mensaje = document.getElementById('mensaje').value;

        // Crear objeto con los datos
        const datos = {
            nombre: nombre,
            email: email,
            edad: edad,
            mensaje: mensaje
        };

        try {
            // Realizar la solicitud de envío
            const respuesta = await fetch('/api/guardar-registro', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(datos)
            });

            // Verificar la respuesta del servidor
            if (respuesta.ok) {
                const resultado = await respuesta.json();
                
                // Mostrar mensaje de éxito
                document.getElementById('respuesta').innerHTML = 
                    `<p style="color: green;">Registro guardado exitosamente. ID: ${resultado.id}</p>`;
                
                // Limpiar el formulario
                document.getElementById('formularioRegistro').reset();
            } else {
                // Manejar errores
                const error = await respuesta.json();
                document.getElementById('respuesta').innerHTML = 
                    `<p style="color: red;">Error: ${error.mensaje}</p>`;
            }
        } catch (error) {
            // Capturar errores de red u otros
            document.getElementById('respuesta').innerHTML = 
                `<p style="color: red;">Error de conexión: ${error.message}</p>`;
        }
    });
    </script>
</body>
</html>